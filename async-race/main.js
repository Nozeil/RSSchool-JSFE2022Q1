(()=>{"use strict";var t=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function c(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((o=o.apply(t,n||[])).next())}))},n=function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},e=function(){function e(t,n,e){void 0===t&&(t="https://delicious-observant-thrush.glitch.me/"),void 0===n&&(n="_page"),void 0===e&&(e="_limit"),this.url=t,this.page=n,this.limit=e}return e.prototype.getQuery=function(t,n,e){var o="".concat(this.url).concat(t);return n&&e?"".concat(o,"?").concat(this.page,"=").concat(n,"&").concat(this.limit,"=").concat(e):o},e.prototype.getCarsAndCarsCount=function(e,o){return void 0===e&&(e=1),void 0===o&&(o=7),t(this,void 0,void 0,(function(){var t,r,i,a,c;return n(this,(function(n){switch(n.label){case 0:return t=this.getQuery("garage",e,o),[4,fetch(t,{method:"GET"})];case 1:return[4,(r=n.sent()).json()];case 2:return i=n.sent(),a=r.headers.get("X-Total-Count"),c=0,a&&(c=+a),[2,{cars:i,carsCount:c,pageValue:e}]}}))}))},e.prototype.getWinners=function(e,o,r,i){return void 0===r&&(r=1),void 0===i&&(i=10),t(this,void 0,void 0,(function(){var t,a,c,u,s;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("winners",r,i),"&_sort=").concat(e,"&_order=").concat(o),[4,fetch(t,{method:"GET"})];case 1:return[4,(a=n.sent()).json()];case 2:return c=n.sent(),u=a.headers.get("X-Total-Count"),s=0,u&&(s=+u),[2,{winners:c,winnersCount:s,pageValue:r}]}}))}))},e.prototype.createCar=function(e,o){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t=this.getQuery("garage"),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:o})})];case 1:return[2,n.sent()]}}))}))},e.prototype.getCar=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("garage"),"/").concat(e),[4,fetch(t,{method:"GET"})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))},e.prototype.updateCar=function(e,o,r){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("garage"),"/").concat(r),[4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:o})})];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteCar=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("garage"),"/").concat(e),[4,fetch(t,{method:"DELETE"})];case 1:return[2,n.sent()]}}))}))},e.prototype.startCarsEngine=function(e,o){return void 0===o&&(o="started"),t(this,void 0,void 0,(function(){var t,r,i;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("engine"),"?id=").concat(e,"&status=").concat(o),[4,fetch(t,{method:"PATCH",body:JSON.stringify({id:e,status:o})})];case 1:return[4,(r=n.sent()).json()];case 2:return i=n.sent(),[2,{res:r,params:i}]}}))}))},e.prototype.switchCarsEngineToDriveMode=function(e,o){return void 0===o&&(o="drive"),t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("engine"),"?id=").concat(e,"&status=").concat(o),[4,fetch(t,{method:"PATCH",body:JSON.stringify({id:e,status:o})})];case 1:return[2,n.sent()]}}))}))},e.prototype.stopCarsEngine=function(e,o){return void 0===o&&(o="stopped"),t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("engine"),"?id=").concat(e,"&status=").concat(o),[4,fetch(t,{method:"PATCH",body:JSON.stringify({id:e,status:o})})];case 1:return[2,n.sent()]}}))}))},e.prototype.createWinner=function(e,o,r){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t=this.getQuery("winners"),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,wins:o,time:r})})];case 1:return[2,n.sent()]}}))}))},e.prototype.getWinner=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("winners"),"/").concat(e),[4,fetch(t,{method:"GET"})];case 1:return[2,n.sent().json()]}}))}))},e.prototype.updateWinner=function(e,o,r){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("winners"),"/").concat(e),[4,fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:o,time:r})})];case 1:return n.sent(),[2]}}))}))},e.prototype.deleteWinner=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return t="".concat(this.getQuery("winners"),"/").concat(e),[4,fetch(t,{method:"DELETE"})];case 1:return[2,n.sent()]}}))}))},e}();const o=e;var r=function(){function t(){}return t.prototype.getComponent=function(t,n,e){var o=document.createElement(t);return o.className=e,n.append(o),o},t}();const i=r;var a,c=(a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},a(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});const u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.getTextComponent=function(n,e,o,r){var i=t.prototype.getComponent.call(this,n,e,o);return i.textContent=r,i},n}(i),s=function(){function t(){}return t.prototype.animateCar=function(t,n,e,o,r,i,a,c,u){var s=t,l=r,p=n,h=o/1e3*60,d=(e-t.getBoundingClientRect().x)/h,f=function(){p+=d,s.style.transform="translateX(".concat(p,"px)"),p<e&&(l[i].animationId=requestAnimationFrame(f)),p>=e&&c&&a&&(c.winnerInfo||c.cars.forEach((function(t){var n=+(o/1e3).toFixed(2);t.id===a&&(c.winnerInfo={id:a,time:n,title:t.title},u&&u(a,1,n,c))})))};f()},t}();var l=function(){return l=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},l.apply(this,arguments)},p=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function c(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((o=o.apply(t,n||[])).next())}))},h=function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},d=function(t,n,e){if(e||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))},f=function(){function t(){this.model=new o,this.textComponent=new u,this.animation=new s,this.animationState={}}return t.prototype.getCarsData=function(t,n){return p(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.model.getCarsAndCarsCount(t,n)]}))}))},t.prototype.getWinnersButtonHandler=function(t,n,e,o){return p(this,void 0,void 0,(function(){return h(this,(function(r){return[2,this.model.getWinners(t,n,e,o)]}))}))},t.prototype.getCreateButtonHandler=function(t,n){return p(this,void 0,void 0,(function(){return h(this,(function(e){return[2,this.model.createCar(t,n)]}))}))},t.prototype.getCarHandler=function(t){return p(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.model.getCar(t)]}))}))},t.prototype.getUpdateHandler=function(t,n,e){return p(this,void 0,void 0,(function(){return h(this,(function(o){return[2,this.model.updateCar(t,n,e)]}))}))},t.prototype.getDeleteHandler=function(t){return p(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.model.deleteCar(t)]}))}))},t.prototype.getStartHandler=function(t){return p(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.model.startCarsEngine(t)]}))}))},t.prototype.getStopHandler=function(t){return p(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.model.stopCarsEngine(t)]}))}))},t.prototype.createWinner=function(t,n,e,o){return p(this,void 0,void 0,(function(){var r,i,a;return h(this,(function(c){switch(c.label){case 0:return o.garageContainer instanceof HTMLElement&&o.winnerInfo?(r=this.textComponent.getTextComponent("div",o.garageContainer,"modal","Winner is ".concat(o.winnerInfo.title,"! Time: ").concat(o.winnerInfo.time,"s")),[4,this.model.createWinner(t,n,e)]):[3,5];case 1:return 500!==c.sent().status?[3,4]:[4,this.model.getWinner(t)];case 2:return i=c.sent(),a=i.time<e?i.time:e,[4,this.model.updateWinner(t,i.wins+=1,a)];case 3:c.sent(),c.label=4;case 4:setTimeout((function(){return r.remove()}),5e3),c.label=5;case 5:return[2]}}))}))},t.prototype.deleteWinner=function(t){return p(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.model.deleteWinner(t)]}))}))},t.prototype.getStartButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){var i,a,c,u,s,l,p;return h(this,(function(h){switch(h.label){case 0:return e instanceof HTMLButtonElement&&(e.disabled=!0),i="id".concat(t),this.animationState[i]={animationId:null},(a=n.firstChild)instanceof SVGElement?(a.style.transform="translateX(0)",c=a.getBoundingClientRect().x,u=this.animationState[i],[4,this.getStartHandler(t)]):[3,3];case 1:return s=h.sent(),l=document.documentElement.clientWidth-150,p=Math.floor(s.params.distance/s.params.velocity),o&&!r&&o instanceof HTMLButtonElement&&(o.disabled=!1),r?this.animation.animateCar(a,c,l,p,this.animationState,i,t,r,this.createWinner.bind(this)):this.animation.animateCar(a,c,l,p,this.animationState,i),[4,this.getDriveHandler(t)];case 2:return 500===h.sent().status&&u.animationId&&cancelAnimationFrame(u.animationId),[2,s.res];case 3:return[2,void 0]}}))}))},t.prototype.getStopButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){var i,a,c,u,s;return h(this,(function(l){switch(l.label){case 0:return e instanceof HTMLButtonElement&&(e.disabled=!0),[4,this.getStopHandler(t)];case 1:return i=l.sent(),a="id".concat(t),c=o.firstChild,r instanceof HTMLButtonElement&&(r.disabled=!1),200===i.status&&(u=this.animationState[a]).animationId&&n instanceof HTMLButtonElement&&c instanceof SVGElement&&(s=n,cancelAnimationFrame(u.animationId),u.animationId=null,s.disabled=!1,c.style.transform="translateX(0)"),[2,i]}}))}))},t.prototype.getDriveHandler=function(t){return p(this,void 0,void 0,(function(){return h(this,(function(n){return[2,this.model.switchCarsEngineToDriveMode(t)]}))}))},t.prototype.rootControlsHandler=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return p(this,void 0,void 0,(function(){return h(this,(function(n){return t.forEach((function(t){return t.classList.toggle("hidden")})),[2]}))}))},t.prototype.winnersButtonHandler=function(t,n,e,o){return p(this,void 0,void 0,(function(){var r,i,a,c;return h(this,(function(u){switch(u.label){case 0:return[4,this.getWinnersButtonHandler(o.sort,o.order,o.winnersPage||1)];case 1:return r=u.sent(),i=r.winners,a=r.winnersCount,c=r.pageValue,n.renderWinners(t,i,a,c,e,o),[2]}}))}))},t.prototype.vehicleСreationButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){var i,a,c,u,s,l,p;return h(this,(function(h){switch(h.label){case 0:return t.vehicleCreationTextInput instanceof HTMLInputElement&&t.vehicleCreationColorInput instanceof HTMLInputElement?[4,this.getCreateButtonHandler(t.vehicleCreationTextInput.value,t.vehicleCreationColorInput.value)]:[3,3];case 1:return 201!==h.sent().status?[3,3]:(a=n,c=e,(i=t).vehicleCreationTextInput instanceof HTMLInputElement&&n.page?(i.vehicleCreationTextInput.value="",[4,this.getCarsData(n.page)]):[3,3]);case 2:u=h.sent(),s=u.cars,l=u.carsCount,p=u.pageValue,a.createInputText=null,a.createInputColor=null,a.size=l,c.innerHTML="",r.renderGarage(s,e,l,p,o,n),h.label=3;case 3:return[2]}}))}))},t.prototype.vehicleInputHandler=function(t,n,e){e instanceof HTMLInputElement&&n&&(t[n]=e.value)},t.prototype.vehicleUpdateControlsHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){var i,a,c,u,s,l;return h(this,(function(p){switch(p.label){case 0:return i=n,a=e,t.vehicleUpdateColorInput instanceof HTMLInputElement&&t.vehicleUpdateTextInput instanceof HTMLInputElement&&i.id&&i.page?[4,this.getUpdateHandler(t.vehicleUpdateTextInput.value,t.vehicleUpdateColorInput.value,i.id)]:[3,3];case 1:return 200!==p.sent().status?[3,3]:[4,this.getCarsData(i.page)];case 2:c=p.sent(),u=c.cars,s=c.carsCount,l=c.pageValue,i.updateInputText=null,i.updateInputColor=null,a.innerHTML="",r.renderGarage(u,e,s,l,o,n),p.label=3;case 3:return[2]}}))}))},t.prototype.raceStartButtonHandler=function(t,n,e,o,r,i,a,c){return p(this,void 0,void 0,(function(){var u,s,p,f;return h(this,(function(h){switch(h.label){case 0:return(u={updateState:t,handlers:n,paginationButtons:e,raceStartButton:o,raceResetButton:r,randomVehicleGenerationButton:i,creationControls:a,vehicleUpdateControls:c}).updateState.winnerInfo=null,[4,this.updateCarStatus(u.updateState,!0)];case 1:return s=h.sent(),p=u.updateState.cars.map((function(t){return t?[t.selectButton,t.removeButton]:[]})).flat(1),f=l(l({},u.vehicleUpdateControls),u.creationControls),this.activateOrDeactivateControls(d([u.paginationButtons.nextButton,u.paginationButtons.prevButton,u.raceStartButton,u.raceResetButton,u.randomVehicleGenerationButton],p,!0),!0),this.activateOrDeactivateGarageControls(f,!0),[4,this.areTheRequestsSuccessful(s,200)];case 2:return h.sent()&&(this.activateOrDeactivateControls(d([u.raceResetButton,u.randomVehicleGenerationButton],p,!0),!1),this.activateOrDeactivateGarageControls(u.creationControls,!1),u.updateState.updateInputText||u.updateState.updateInputColor?this.activateOrDeactivateGarageControls(u.vehicleUpdateControls,!1):this.activateOrDeactivateGarageControls(u.vehicleUpdateControls,!0),t.page&&t.size&&(this.activateOrDeactivatePrevPaginationButton(u.paginationButtons.prevButton,t,t.page),this.activateOrDeactivateNextPaginationButton(u.paginationButtons.nextButton,t,t.page,t.size,t.limit))),[2]}}))}))},t.prototype.activateOrDeactivatePrevPaginationButton=function(t,n,e){t instanceof HTMLButtonElement&&(t.disabled=e===n.firstPage)},t.prototype.activateOrDeactivateNextPaginationButton=function(t,n,e,o,r){t instanceof HTMLButtonElement&&(t.disabled=e===n.getLastPage(o,r)||!n.getLastPage(o,r))},t.prototype.activateOrDeactivateControls=function(t,n){t.forEach((function(t){(t instanceof HTMLButtonElement||t instanceof HTMLInputElement)&&(t.disabled=n)}))},t.prototype.activateOrDeactivateGarageControls=function(t,n){var e=Object.values(t);this.activateOrDeactivateControls(e,n)},t.prototype.updateCarStatus=function(t,n){return p(this,void 0,void 0,(function(){var e,o=this;return h(this,(function(r){return e=t.cars.map((function(e){return p(o,void 0,void 0,(function(){var o;return h(this,(function(r){switch(r.label){case 0:return e?n?[4,this.getStartButtonHandler(e.id,e.carImage,e.startButton,e.endButton,t)]:[3,2]:[3,5];case 1:return o=r.sent(),[3,4];case 2:return[4,this.getStopButtonHandler(e.id,e.startButton,e.endButton,e.carImage)];case 3:o=r.sent(),r.label=4;case 4:return[2,o];case 5:return[2,void 0]}}))}))})),[2,e]}))}))},t.prototype.raceResetButtonHandler=function(t,n,e){return p(this,void 0,void 0,(function(){var o;return h(this,(function(r){switch(r.label){case 0:return[4,this.updateCarStatus(t,!1)];case 1:return o=r.sent(),this.activateOrDeactivateControls([e],!0),[4,this.areTheRequestsSuccessful(o,200)];case 2:return r.sent()&&this.activateOrDeactivateControls([n],!1),[2]}}))}))},t.prototype.areTheRequestsSuccessful=function(t,n){return p(this,void 0,void 0,(function(){var e=this;return h(this,(function(o){switch(o.label){case 0:return[4,Promise.all(t)];case 1:return[2,o.sent().every((function(t){return p(e,void 0,void 0,(function(){return h(this,(function(e){return[2,!!t&&t.status===n]}))}))}))]}}))}))},t.prototype.prevButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){return h(this,(function(i){switch(i.label){case 0:return t.page&&t.page>t.firstPage?[4,this.paginationButtonHandler(t,n,e,o,r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.nextButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){return h(this,(function(i){switch(i.label){case 0:return t.page&&t.size&&t.page<t.getLastPage(t.size,t.limit)?[4,this.paginationButtonHandler(t,n,e,o,r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.paginationButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){var i,a,c,u,s,l;return h(this,(function(p){switch(p.label){case 0:return a=n,(i=t).page?(i.page+=r,[4,o.carsData(i.page)]):[3,2];case 1:c=p.sent(),u=c.cars,s=c.carsCount,l=c.pageValue,a.innerHTML="",e.renderGarage(u,a,s,l,o,i),p.label=2;case 2:return[2]}}))}))},t.prototype.winnersPaginationButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){var i,a,c,u,s,l;return h(this,(function(p){switch(p.label){case 0:return a=n,(i=t).winnersPage?(i.winnersPage+=r,[4,this.getWinnersButtonHandler(t.sort,t.order,i.winnersPage)]):[3,2];case 1:c=p.sent(),u=c.winners,s=c.winnersCount,l=c.pageValue,a.innerHTML="",e.renderWinners(a,u,s,l,o,t),p.label=2;case 2:return[2]}}))}))},t.prototype.prevWinnersButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){return h(this,(function(i){switch(i.label){case 0:return t.winnersPage&&t.winnersPage>t.firstPage?[4,this.winnersPaginationButtonHandler(t,n,e,o,r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.nextWinnersButtonHandler=function(t,n,e,o,r){return p(this,void 0,void 0,(function(){return h(this,(function(i){switch(i.label){case 0:return t.winnersPage&&t.winnersSize&&t.winnersPage<t.getLastPage(t.winnersSize,t.winnersLimit)?[4,this.winnersPaginationButtonHandler(t,n,e,o,r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.randomVehiclesGenerationButtonHandler=function(t,n,e,o){return p(this,void 0,void 0,(function(){var r,i,a,c,u,s,l,p,d,f,v,g,m,C,y,b=this;return h(this,(function(h){switch(h.label){case 0:for(r=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],i=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"],a=[],c=0;c<100;c+=1)u=Math.floor(Math.random()*r.length),s=Math.floor(Math.random()*i.length),l="".concat(r[u]," ").concat(i[s]),p="#".concat(Math.floor(16777215*Math.random()).toString(16)),a.push({name:l,color:p});return d=a.map((function(t){return b.getCreateButtonHandler(t.name,t.color)})),(f=e.page)?[4,this.areTheRequestsSuccessful(d,201)]:[3,2];case 1:f=h.sent(),h.label=2;case 2:return f?(v=t,[4,this.getCarsData(e.page)]):[3,4];case 3:g=h.sent(),m=g.cars,C=g.carsCount,y=g.pageValue,v.innerHTML="",n.renderGarage(m,v,C,y,o,e),h.label=4;case 4:return[2]}}))}))},t.prototype.selectButtonHandler=function(t,n,e){return p(this,void 0,void 0,(function(){var o,r,i,a,c;return h(this,(function(u){switch(u.label){case 0:return[4,this.getCarHandler(e)];case 1:return o=u.sent(),i=n,(r=t).vehicleUpdateTextInput instanceof HTMLInputElement&&r.vehicleUpdateColorInput instanceof HTMLInputElement&&"string"==typeof o.name&&"string"==typeof o.color&&(a=[o.name,o.color],r.vehicleUpdateTextInput.value=a[0],r.vehicleUpdateColorInput.value=a[1]),"string"==typeof o.name&&"string"==typeof o.color&&"number"==typeof o.id&&(c=[o.name,o.color,o.id],i.updateInputText=c[0],i.updateInputColor=c[1],i.id=c[2]),this.activateOrDeactivateGarageControls(t,!1),[2]}}))}))},t.prototype.removeButtonHandler=function(t,n,e,o,r,i,a,c,u,s){return p(this,void 0,void 0,(function(){var l,p,d,f,v,g,m,C,y,b,w,B,x;return h(this,(function(h){switch(h.label){case 0:return(l=s).raceStartButton instanceof HTMLButtonElement&&l.raceResetButton instanceof HTMLButtonElement&&(l.raceStartButton.disabled=!1,l.raceResetButton.disabled=!0),[4,this.deleteWinner(t)];case 1:return h.sent(),[4,this.getDeleteHandler(t)];case 2:return p=h.sent(),d=e,f=o,v=r,g=i,m=a,C=n,200===p.status&&d.page&&C.vehicleUpdateTextInput instanceof HTMLInputElement&&C.vehicleUpdateColorInput instanceof HTMLInputElement?(d.updateInputText=null,d.updateInputColor=null,C.vehicleUpdateTextInput.value="",C.vehicleUpdateColorInput.value="#111111",this.activateOrDeactivateGarageControls(C,!0),[4,this.getCarsData(d.page)]):[3,6];case 3:return y=h.sent(),b=y.cars,w=y.carsCount,B=y.pageValue,b.length||B===e.firstPage?[3,5]:(d.page-=1,[4,this.getCarsData(d.page)]);case 4:x=h.sent(),b=x.cars,w=x.carsCount,B=x.pageValue,h.label=5;case 5:!(w%e.limit)&&f.nextButton instanceof HTMLButtonElement&&(f.nextButton.disabled=!0),B===e.firstPage&&f.prevButton instanceof HTMLButtonElement&&(f.prevButton.disabled=!0),v.innerHTML="",d.page=B,g.textContent="Garage (".concat(w,")"),m.textContent="Page #".concat(B),u.renderCars(b,g,m,C,d,c,v,f,s),h.label=6;case 6:return[2]}}))}))},t.prototype.sortWinners=function(t,n,e,o){return p(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:return o.order="ASC"===o.order?"DESC":"ASC",[4,this.winnersButtonHandler(t,n,e,o)];case 1:return r.sent(),[2]}}))}))},t}();const v=f;var g=function(){var t=function(n,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},t(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return g(n,t),n.prototype.getSvgImage=function(n,e,o,r){var i=t.prototype.getComponent.call(this,n,e,o);return i.insertAdjacentHTML("afterbegin",r),i},n}(i);var C=function(){function t(){this.component=new i,this.textComponent=new u,this.carSvgImage=new m}return t.prototype.getCar=function(t){return this.component.getComponent("div",t,"car")},t.prototype.getCarTitle=function(t,n){return this.textComponent.getTextComponent("h4",t,"car__title",n)},t.prototype.getCarControls=function(t,n,e,o,r,i,a,c,u,s,l){var p=this,h=this.component.getComponent("div",t,"car__controls"),d=this.getSelectButton(h);d.addEventListener("click",(function(){return e.selectButtonHandler(o,r,n)}));var f=this.getRemoveButton(h);f.addEventListener("click",(function(){return t=p,s=void 0,d=function(){return function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(t){return[2,e.removeButtonHandler(n,o,r,u,i,a,c,e,this,l)]}))},new((h=void 0)||(h=Promise))((function(n,e){function o(t){try{i(d.next(t))}catch(t){e(t)}}function r(t){try{i(d.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):(e=t.value,e instanceof h?e:new h((function(t){t(e)}))).then(o,r)}i((d=d.apply(t,s||[])).next())}));var t,s,h,d}));var v=this.getStartButton(h),g=this.getEndButton(h);return v.addEventListener("click",(function(){return e.startButtonHandler(n,s,v,g)})),g.addEventListener("click",(function(){r.raceStartButton&&e.stopButtonHandler(n,v,g,s,r.raceStartButton)})),{startButton:v,endButton:g,selectButton:d,removeButton:f}},t.prototype.getSelectButton=function(t){return this.textComponent.getTextComponent("button",t,"car__select","Select")},t.prototype.getRemoveButton=function(t){return this.textComponent.getTextComponent("button",t,"car__reset","Remove")},t.prototype.getStartButton=function(t){return this.textComponent.getTextComponent("button",t,"car__start","Start")},t.prototype.getEndButton=function(t){var n=this.textComponent.getTextComponent("button",t,"car__end","End");return n instanceof HTMLButtonElement&&(n.disabled=!0),n},t.prototype.getCarRace=function(t){return this.component.getComponent("div",t,"car__race")},t.prototype.getCarImage=function(t,n){var e='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="100" height="50"\n    viewBox="0 0 1280.000000 450" preserveAspectRatio="xMidYMid meet">\n    <metadata>\n      Created by potrace 1.15, written by Peter Selinger 2001-2017\n    </metadata>\n    <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)" fill='.concat(n,' stroke="none">\n      <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n  -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n  -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n  -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n  -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n  0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n  -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n  756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n  140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\n  l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n  259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n  -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n  -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n  525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n  680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n  -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n  -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n  10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n  -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n  -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n  54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n  -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n  274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n  -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z" />\n      <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n  -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n  -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n  86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n  -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n  1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n  0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z" />\n      <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n  -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z" />\n      <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n  22 c-34 28 -138 70 -193 79 l-40 7 0 -162z" />\n      <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n  165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z" />\n      <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n  165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z" />\n      <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n  58 -13 0 -29 -8 -34 -18z" />\n      <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n  9 153 -71 153 -27 0 -44 -8 -66 -29z" />\n      <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n  -54 -2z" />\n      <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n  -62 36z" />\n      <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n  113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z" />\n      <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n  195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z" />\n      <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n  -70 0z" />\n      <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n  0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z" />\n      <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n  232 -230 231 -3 0 -11 -3 -17 -6z" />\n      <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n  -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n  380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n  -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n  33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n  238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n  81 364 77 109 -3 143 -7 210 -30z" />\n      <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n  119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z" />\n      <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n  -163 84 -207 91 l-43 7 0 -162z" />\n      <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n  165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z" />\n      <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n  -88 241 -108 241 -4 0 -57 -51 -119 -112z" />\n      <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n  -10 68 -14 2 -31 -3 -38 -10z" />\n      <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n  -44 -6 -64 -31z" />\n      <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n  -54 2z" />\n      <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n  -24 13 -3 0 -14 -6 -24 -13z" />\n      <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n  109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z" />\n      <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n  79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z" />\n      <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n  -67 12z" />\n      <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n  10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n  -113z" />\n      <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n  61 239 98 16 10 -216 242 -234 235z" />\n    </g>\n  </svg>');return this.carSvgImage.getSvgImage("div",t,"car__car-image",e)},t.prototype.renderCar=function(t,n,e,o,r,i,a,c,u,s,l){var p=this.getCar(i);this.getCarTitle(p,a);var h=this.getCarImage(i,c),d=this.getCarControls(p,u,r,e,o,i,t,n,s,h,l),f=d.startButton,v=d.endButton,g=d.selectButton,m=d.removeButton;o.cars&&o.cars.push({title:a,carImage:h,startButton:f,endButton:v,selectButton:g,removeButton:m,id:u})},t.prototype.renderCars=function(t,n,e,o,r,i,a,c,u){var s=this;r.cars=[],t.forEach((function(t){"string"==typeof t.name&&"string"==typeof t.color&&"number"==typeof t.id&&s.renderCar(n,e,o,r,i,a,t.name,t.color,t.id,c,u)}))},t}();const y=C,b=function(){function t(){this.component=new i,this.textComponent=new u,this.cars=new y}return t.prototype.getGarageContainer=function(t,n,e){return void 0===n&&(n="div"),void 0===e&&(e="root__garage-container"),this.component.getComponent(n,t,e)},t.prototype.getTitle=function(t,n,e,o){return void 0===e&&(e="h2"),void 0===o&&(o="root__title"),this.textComponent.getTextComponent(e,t,o,n)},t.prototype.getPageTitle=function(t,n,e,o){return void 0===e&&(e="h3"),void 0===o&&(o="root__page-title"),this.textComponent.getTextComponent(e,t,o,n)},t.prototype.getGarage=function(t,n,e){return void 0===n&&(n="div"),void 0===e&&(e="root__garage"),this.component.getComponent(n,t,e)},t.prototype.getVehicleCreationButton=function(t){return this.textComponent.getTextComponent("button",t,"root__create","Create")},t.prototype.getVehicleCreationTextInput=function(t){var n=this.component.getComponent("input",t,"root__input_text");return n instanceof HTMLInputElement&&(n.type="text"),n},t.prototype.getVehicleCreationColorInput=function(t){var n=this.component.getComponent("input",t,"root__input_color");return n instanceof HTMLInputElement&&(n.type="color"),n},t.prototype.getVehicleUpdateButton=function(t){var n=this.textComponent.getTextComponent("button",t,"root__update","Update");return n instanceof HTMLButtonElement&&(n.disabled=!0),n},t.prototype.getVehicleUpdateTextInput=function(t){var n=this.component.getComponent("input",t,"root__input_text");return n instanceof HTMLInputElement&&(n.type="text",n.disabled=!0),n},t.prototype.getVehicleUpdateColorInput=function(t){var n=this.component.getComponent("input",t,"root__input_color");return n instanceof HTMLInputElement&&(n.type="color",n.disabled=!0),n},t.prototype.getCreationControls=function(t,n,e,o){var r=this,i=this.component.getComponent("div",t,"root__create-controls"),a={vehicleCreationButton:this.getVehicleCreationButton(i),vehicleCreationTextInput:this.getVehicleCreationTextInput(i),vehicleCreationColorInput:this.getVehicleCreationColorInput(i)};return o.createInputText&&a.vehicleCreationTextInput instanceof HTMLInputElement&&(a.vehicleCreationTextInput.value=o.createInputText),o.createInputColor&&a.vehicleCreationColorInput instanceof HTMLInputElement&&(a.vehicleCreationColorInput.value=o.createInputColor),a.vehicleCreationButton.addEventListener("click",(function(){return e.vehicleСreationButtonHandler(a,o,n,e,r)})),a.vehicleCreationTextInput.addEventListener("input",(function(){return e.vehicleInputHandler(o,"createInputText",a.vehicleCreationTextInput)})),a.vehicleCreationColorInput.addEventListener("input",(function(){return e.vehicleInputHandler(o,"createInputColor",a.vehicleCreationColorInput)})),a},t.prototype.getVehicleUpdateControls=function(t,n,e,o){var r=this,i=this.component.getComponent("div",t,"root__update-controls"),a={vehicleUpdateButton:this.getVehicleUpdateButton(i),vehicleUpdateTextInput:this.getVehicleUpdateTextInput(i),vehicleUpdateColorInput:this.getVehicleUpdateColorInput(i)};return o.updateInputText&&o.updateInputColor&&(a.vehicleUpdateButton instanceof HTMLButtonElement&&a.vehicleUpdateColorInput instanceof HTMLInputElement&&a.vehicleUpdateTextInput instanceof HTMLInputElement&&(a.vehicleUpdateButton.disabled=!1,a.vehicleUpdateColorInput.disabled=!1,a.vehicleUpdateTextInput.disabled=!1),a.vehicleUpdateColorInput instanceof HTMLInputElement&&a.vehicleUpdateTextInput instanceof HTMLInputElement&&(a.vehicleUpdateColorInput.value=o.updateInputColor,a.vehicleUpdateTextInput.value=o.updateInputText)),a.vehicleUpdateButton.addEventListener("click",(function(){return e.vehicleUpdateControlsHandler(a,o,n,e,r)})),a.vehicleUpdateColorInput.addEventListener("input",(function(){return e.vehicleInputHandler(o,"updateInputColor",a.vehicleUpdateColorInput)})),a.vehicleUpdateTextInput.addEventListener("input",(function(){return e.vehicleInputHandler(o,"updateInputText",a.vehicleUpdateTextInput)})),a},t.prototype.getCarContainer=function(t){return this.component.getComponent("div",t,"root__cars")},t.prototype.getRaceButtons=function(t,n,e,o,r,i,a){var c=this.getRaceStartButton(t);a.raceStartButton=c;var u=this.getRaceResetButton(t);return c.addEventListener("click",(function(){return i.raceStartButtonHandler(a,i,r,c,u,o,n,e)})),u.addEventListener("click",(function(){return i.raceResetButtonHandler(a,c,u)})),{raceStartButton:c,raceResetButton:u}},t.prototype.getRaceStartButton=function(t){return this.textComponent.getTextComponent("button",t,"root__update","Race")},t.prototype.getRaceResetButton=function(t){var n=this.textComponent.getTextComponent("button",t,"root__update","Reset");return n instanceof HTMLButtonElement&&(n.disabled=!0),n},t.prototype.getPaginationButtons=function(t,n,e){var o=this,r=this.component.getComponent("div",t,"root__pagination"),i=this.getPaginationPrevButton(r,e,n);i.addEventListener("click",(function(){return n.paginationPrevButtonHandler(e,t,o,n,-1)}));var a=this.getPaginationNextButton(r,e,n);return a.addEventListener("click",(function(){return n.paginationNextButtonHandler(e,t,o,n,1)})),{prevButton:i,nextButton:a}},t.prototype.getPaginationPrevButton=function(t,n,e){var o=this.textComponent.getTextComponent("button",t,"root__pagination-prev","Prev");return n.page&&e.activateOrDeactivatePrevPaginationButton(o,n,n.page),o},t.prototype.getPaginationNextButton=function(t,n,e){var o=this.textComponent.getTextComponent("button",t,"root__pagination-next","Next");return n.page&&n.size&&e.activateOrDeactivateNextPaginationButton(o,n,n.page,n.size,n.limit),o},t.prototype.getGenerateRandomCarsButton=function(t,n,e,o){var r=this,i=this.textComponent.getTextComponent("button",t,"root__generate-cars","Generate cars");return i.addEventListener("click",(function(){return o.randomVehiclesGenerationButtonHandler(n,r,e,o)})),i},t.prototype.renderGarage=function(t,n,e,o,r,i){var a=i;a.size=e,a.page=o;var c=n.classList.contains("root__garage-container")?n:this.getGarageContainer(n),u="Garage (".concat(e,")"),s="Page #".concat(o),l=this.getTitle(c,u),p=this.getGarage(c),h=this.getPaginationButtons(c,r,i),d=this.getCreationControls(p,c,r,i),f=this.getVehicleUpdateControls(p,c,r,i),v=this.getGenerateRandomCarsButton(p,c,i,r),g=this.getRaceButtons(p,d,f,v,h,r,i),m=this.getPageTitle(p,s),C=this.getCarContainer(p);return this.cars.renderCars(t,l,m,f,i,r,C,h,g),c},t}();var w=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function c(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((o=o.apply(t,n||[])).next())}))},B=function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},x=function(){function t(){this.component=new i,this.textComponent=new u,this.carSvgImage=new m}return t.prototype.getWinnersContainer=function(t,n,e){return void 0===n&&(n="div"),void 0===e&&(e="root__winners-container"),this.component.getComponent(n,t,e)},t.prototype.getTitle=function(t,n,e,o){return void 0===e&&(e="h2"),void 0===o&&(o="root__title"),this.textComponent.getTextComponent(e,t,o,n)},t.prototype.getPageTitle=function(t,n,e,o){return void 0===e&&(e="h3"),void 0===o&&(o="root__page-title"),this.textComponent.getTextComponent(e,t,o,n)},t.prototype.getWinners=function(t,n,e){return void 0===n&&(n="div"),void 0===e&&(e="root__winners"),this.component.getComponent(n,t,e)},t.prototype.getWinnersTable=function(t,n,e,o){var r=this,i=o,a=this.component.getComponent("table",t,"root__winners-table"),c=this.component.getComponent("thead",a,"root__table-head"),u=this.component.getComponent("tr",c,"root__table-headers"),s=["Number","Car","Name","Wins","Best time (seconds)"];s.forEach((function(n){var a=r.textComponent.getTextComponent("th",u,"root__table-header",n);"Wins"===n&&("wins"===o.sort&&(a.textContent+="ASC"===o.order?"↑":"↓"),a.classList.add("clickable"),a.addEventListener("click",(function(){return w(r,void 0,void 0,(function(){return B(this,(function(n){switch(n.label){case 0:return i.sort="wins",[4,e.sortWinners(t,this,e,o)];case 1:return n.sent(),[2]}}))}))}))),"Best time (seconds)"===n&&("time"===o.sort&&(a.textContent+="ASC"===o.order?"↑":"↓"),a.classList.add("clickable"),a.addEventListener("click",(function(){return w(r,void 0,void 0,(function(){return B(this,(function(n){switch(n.label){case 0:return i.sort="time",[4,e.sortWinners(t,this,e,o)];case 1:return n.sent(),[2]}}))}))})))})),this.createTableBody(a,n,s,e,o)},t.prototype.createTableBody=function(t,n,e,o,r){var i=this,a=this.component.getComponent("tbody",t,"root__table-body");n.forEach((function(t,n){return w(i,void 0,void 0,(function(){var i,c,u,s,l;return B(this,(function(p){switch(p.label){case 0:return i=this.component.getComponent("tr",a,"root__table-cells"),[4,o.carHandler(+t.id)];case 1:for(c=p.sent(),u=0;u<e.length;u+=1)0===u?1===r.winnersPage?this.textComponent.getTextComponent("td",i,"root__table-cell","".concat(n+1)):r.winnersPage&&r.winnersPage>1&&this.textComponent.getTextComponent("td",i,"root__table-cell","".concat(n+1+(r.winnersPage-1)*r.winnersLimit)):1===u?(s='<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="60" height="30"\n          viewBox="0 0 1280.000000 450" preserveAspectRatio="xMidYMid meet">\n          <metadata>\n            Created by potrace 1.15, written by Peter Selinger 2001-2017\n          </metadata>\n          <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)" fill='.concat(c.color,' stroke="none">\n            <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n        -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n        -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n        -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n        -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n        0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n        -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n        756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n        140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\n        l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n        259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n        -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n        -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n        525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n        680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n        -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n        -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n        10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n        -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n        -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n        54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n        -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n        274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n        -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z" />\n            <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n        -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n        -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n        86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n        -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n        1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n        0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z" />\n            <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n        -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z" />\n            <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n        22 c-34 28 -138 70 -193 79 l-40 7 0 -162z" />\n            <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n        165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z" />\n            <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n        165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z" />\n            <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n        58 -13 0 -29 -8 -34 -18z" />\n            <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n        9 153 -71 153 -27 0 -44 -8 -66 -29z" />\n            <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n        -54 -2z" />\n            <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n        -62 36z" />\n            <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n        113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z" />\n            <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n        195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z" />\n            <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n        -70 0z" />\n            <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n        0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z" />\n            <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n        232 -230 231 -3 0 -11 -3 -17 -6z" />\n            <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n        -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n        380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n        -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n        33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n        238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n        81 364 77 109 -3 143 -7 210 -30z" />\n            <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n        119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z" />\n            <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n        -163 84 -207 91 l-43 7 0 -162z" />\n            <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n        165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z" />\n            <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n        -88 241 -108 241 -4 0 -57 -51 -119 -112z" />\n            <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n        -10 68 -14 2 -31 -3 -38 -10z" />\n            <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n        -44 -6 -64 -31z" />\n            <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n        -54 2z" />\n            <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n        -24 13 -3 0 -14 -6 -24 -13z" />\n            <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n        109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z" />\n            <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n        79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z" />\n            <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n        -67 12z" />\n            <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n        10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n        -113z" />\n            <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n        61 239 98 16 10 -216 242 -234 235z" />\n          </g>\n        </svg>'),l=this.component.getComponent("td",i,"root__table-cell"),this.carSvgImage.getSvgImage("div",l,"car__winner-car-image",s)):2===u&&"string"==typeof c.name?this.textComponent.getTextComponent("td",i,"root__table-cell",c.name):3===u?this.textComponent.getTextComponent("td",i,"root__table-cell","".concat(t.wins)):4===u&&this.textComponent.getTextComponent("td",i,"root__table-cell","".concat(t.time));return[2]}}))}))}))},t.prototype.getPaginationButtons=function(t,n,e){var o=this,r=this.component.getComponent("div",t,"root__pagination"),i=this.getPaginationPrevButton(r,e,n);i.addEventListener("click",(function(){return n.prevWinnersButtonHandler(e,t,o,n,-1)}));var a=this.getPaginationNextButton(r,e,n);return a.addEventListener("click",(function(){return n.nextWinnersButtonHandler(e,t,o,n,1)})),{prevButton:i,nextButton:a}},t.prototype.getPaginationPrevButton=function(t,n,e){var o=this.textComponent.getTextComponent("button",t,"root__pagination-prev","Prev");return n.winnersPage&&e.activateOrDeactivatePrevPaginationButton(o,n,n.winnersPage),o},t.prototype.getPaginationNextButton=function(t,n,e){var o=this.textComponent.getTextComponent("button",t,"root__pagination-next","Next");return n.winnersPage&&n.winnersSize&&e.activateOrDeactivateNextPaginationButton(o,n,n.winnersPage,n.winnersSize,n.winnersLimit),o},t.prototype.renderWinners=function(t,n,e,o,r,i){var a=i,c=t;a.winnersPage=o,a.winnersSize=e,c.innerHTML="";var u="Winners (".concat(e,")"),s="Page #".concat(o);this.getTitle(t,u);var l=this.getWinners(t);this.getPageTitle(l,s),this.getWinnersTable(t,n,r,i),this.getPaginationButtons(t,r,i)},t}();const T=x;var H=function(){function t(){this.component=new i,this.textComponent=new u,this.garage=new b,this.winners=new T,this.updateState={size:null,limit:7,page:null,winnersLimit:10,firstPage:1,winnersPage:null,winnersSize:null,sort:"id",order:"ASC",id:null,createInputText:null,createInputColor:null,updateInputText:null,updateInputColor:null,winnerInfo:null,cars:[],garageContainer:null,getLastPage:function(t,n){return Math.ceil(t/n)},raceStartButton:null}}return t.prototype.getRoot=function(){return this.component.getComponent("div",document.body,"root")},t.prototype.getRootControls=function(t){return this.component.getComponent("div",t,"root__controls")},t.prototype.getRootContainer=function(t){return this.component.getComponent("div",t,"root__container")},t.prototype.getGarageButton=function(t){var n=this.textComponent.getTextComponent("button",t,"root__button","To garage");return n instanceof HTMLButtonElement&&(n.disabled=!0),n},t.prototype.getWinnersButton=function(t){return this.textComponent.getTextComponent("button",t,"root__button","To winners")},t.prototype.renderRoot=function(t,n,e,o){return r=this,i=void 0,c=function(){var r,i,a,c,u,s,l,p=this;return function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(h){return r=this.getRoot(),i=this.getRootControls(r),a=this.getRootContainer(r),c=this.getGarageButton(i),u=this.getWinnersButton(i),s=this.component.getComponent("div",a,"root__winners-container hidden"),l=this.garage.renderGarage(t,a,n,e,o,this.updateState),this.updateState.garageContainer=l,c.addEventListener("click",(function(){u instanceof HTMLButtonElement&&c instanceof HTMLButtonElement&&(u.disabled=!1,c.disabled=!0),o.rootControlsHandler(l,s)})),u.addEventListener("click",(function(){u instanceof HTMLButtonElement&&c instanceof HTMLButtonElement&&(u.disabled=!0,c.disabled=!1),o.rootControlsHandler(l,s),o.winnersButtonHandler(s,p.winners,o,p.updateState)})),[2]}))},new((a=void 0)||(a=Promise))((function(t,n){function e(t){try{u(c.next(t))}catch(t){n(t)}}function o(t){try{u(c.throw(t))}catch(t){n(t)}}function u(n){var r;n.done?t(n.value):(r=n.value,r instanceof a?r:new a((function(t){t(r)}))).then(e,o)}u((c=c.apply(r,i||[])).next())}));var r,i,a,c},t}();const I=H;var M=function(){function t(){this.root=new I}return t.prototype.renderView=function(t,n,e,o){return r=this,i=void 0,c=function(){return function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(r){return this.root.renderRoot(t,n,e,o),[2]}))},new((a=void 0)||(a=Promise))((function(t,n){function e(t){try{u(c.next(t))}catch(t){n(t)}}function o(t){try{u(c.throw(t))}catch(t){n(t)}}function u(n){var r;n.done?t(n.value):(r=n.value,r instanceof a?r:new a((function(t){t(r)}))).then(e,o)}u((c=c.apply(r,i||[])).next())}));var r,i,a,c},t}();const _=M;var S=function(t,n,e,o){return new(e||(e=Promise))((function(r,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function c(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((o=o.apply(t,n||[])).next())}))},E=function(t,n){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t],o=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},P=function(){function t(){this.view=new _,this.controller=new v}return t.prototype.start=function(){return S(this,void 0,void 0,(function(){var t,n,e,o,r,i,a;return E(this,(function(c){switch(c.label){case 0:return[4,this.controller.getCarsData()];case 1:return t=c.sent(),n=t.cars,e=t.carsCount,o=t.pageValue,i=(r=this.view).renderView,a=[n,e,o],[4,this.exportButtonsHandlers()];case 2:return i.apply(r,a.concat([c.sent()])),[2]}}))}))},t.prototype.exportButtonsHandlers=function(){return S(this,void 0,void 0,(function(){var t,n,e,o,r,i,a,c,u,s,l,p,h,d,f,v,g,m,C,y,b,w,B;return E(this,(function(x){return t=this.controller.getCarsData.bind(this.controller),n=this.controller.getCreateButtonHandler.bind(this.controller),e=this.controller.rootControlsHandler.bind(this.controller),o=this.controller.vehicleInputHandler.bind(this.controller),r=this.controller.winnersButtonHandler.bind(this.controller),i=this.controller.vehicleСreationButtonHandler.bind(this.controller),a=this.controller.getCarHandler.bind(this.controller),c=this.controller.vehicleUpdateControlsHandler.bind(this.controller),u=this.controller.getDeleteHandler.bind(this.controller),s=this.controller.getStartButtonHandler.bind(this.controller),l=this.controller.getStopButtonHandler.bind(this.controller),p=this.controller.raceStartButtonHandler.bind(this.controller),h=this.controller.raceResetButtonHandler.bind(this.controller),d=this.controller.nextButtonHandler.bind(this.controller),f=this.controller.prevButtonHandler.bind(this.controller),v=this.controller.activateOrDeactivateNextPaginationButton.bind(this.controller),g=this.controller.activateOrDeactivatePrevPaginationButton.bind(this.controller),m=this.controller.randomVehiclesGenerationButtonHandler.bind(this.controller),C=this.controller.selectButtonHandler.bind(this.controller),y=this.controller.removeButtonHandler.bind(this.controller),b=this.controller.nextWinnersButtonHandler.bind(this.controller),w=this.controller.prevWinnersButtonHandler.bind(this.controller),B=this.controller.sortWinners.bind(this.controller),[2,{createHandler:n,carsData:t,rootControlsHandler:e,vehicleInputHandler:o,winnersButtonHandler:r,vehicleСreationButtonHandler:i,carHandler:a,vehicleUpdateControlsHandler:c,deleteHandler:u,startButtonHandler:s,stopButtonHandler:l,raceStartButtonHandler:p,raceResetButtonHandler:h,paginationNextButtonHandler:d,paginationPrevButtonHandler:f,activateOrDeactivateNextPaginationButton:v,activateOrDeactivatePrevPaginationButton:g,randomVehiclesGenerationButtonHandler:m,selectButtonHandler:C,removeButtonHandler:y,nextWinnersButtonHandler:b,prevWinnersButtonHandler:w,sortWinners:B}]}))}))},t}();(new P).start()})();